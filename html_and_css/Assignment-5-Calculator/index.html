<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="author" content="Redmund Nacario">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <!-- css -->
    <link rel="stylesheet" type="text/css" href="./css/style.css">
    <link rel="stylesheet" type="text/css" href="./css/grid.css">
    <link rel="stylesheet" type="text/css" href="./css/button.css">
</head>
<body>
    <div class="navbar">
        <div class="nav-content">
            <img class='nav-img' src="../../assets/Redmundnacario.png"/>
            <h3 class='nav-title'>Redmund Nacario</h3>
        </div>
    </div>
    <div class="app">
        <div class="calculator col-lg-3 col-md-10 col-sm-12 col-xs-12">
            <div class="screen-container"><bdi class="screen-value"></bdi></div>
            <div class="keys">

                <button class="button numKey" >
                    <div class="button-content">
                        <div class="button-text">+</div>
                    </div>
                </button>
                <button class="button numKey">
                    <div class="button-content">
                        <div class="button-text">-</div>
                    </div>
                </button>
                <button class="button numKey">
                    <div class="button-content">
                        <div class="button-text">&times;</div>
                    </div>
                </button>
                <button class="button numKey">
                    <div class="button-content">
                        <div class="button-text">÷</div>
                    </div>
                </button>

                <button class="button numKey">
                    <div class="button-content">
                        <div class="button-text">7</div>
                    </div>
                </button>
                <button class="button numKey">
                    <div class="button-content">
                        <div class="button-text">8</div>
                    </div>
                </button>
                <button class="button numKey">
                    <div class="button-content">
                        <div class="button-text">9</div>
                    </div>
                </button>

                <button class="button equal" >
                    <div class="button-content">
                        <div class="button-text">=</div>
                    </div>
                </button>

                <button class="button numKey">
                    <div class="button-content">
                        <div class="button-text">4</div>
                    </div>
                </button>
                <button class="button numKey">
                    <div class="button-content">
                        <div class="button-text">5</div>
                    </div>
                </button>
                <button class="button numKey">
                    <div class="button-content">
                        <div class="button-text">6</div>
                    </div>
                </button>

                <button class="button numKey" >
                    <div class="button-content">
                        <div class="button-text">1</div>
                    </div>
                </button>
                <button class="button numKey">
                    <div class="button-content">
                        <div class="button-text">2</div>
                    </div>
                </button>
                <button class="button numKey">
                    <div class="button-content">
                        <div class="button-text">3</div>
                    </div>
                </button>
                
                <button class="button numKey">
                    <div class="button-content">
                        <div class="button-text">0</div>
                    </div>
                </button>
                <button class="button numKey">
                    <div class="button-content">
                        <div class="button-text">.</div>
                    </div>
                </button>
                <button class="button del">
                    <div class="button-content">
                        <div class="button-text">del</div>
                    </div>
                </button>

            </div>
        </div>
    </div>
    <!-- Javascript -->
    <script>
        // initial value
        const initialValue = 0;

        var screenValue = document.querySelector(".screen-value");
        screenValue.innerText = initialValue;

        // if number  and operations was pressed
        function numKeyPressed() {
            if (screenValue.innerText  == initialValue){
                screenValue.innerText  = this.innerText;
            } else {
                screenValue.innerText = screenValue.innerText  + this.innerText;
            }
        }
        // delete previous
        function deletePrevious() {
            if(screenValue.innerText.length == 1 ){
                screenValue.innerText = initialValue;
            } else {
                screenValue.innerText = screenValue.innerText.slice(0, -1);
            }
        }
        // run equal sign or perform the operation
        function equalSignPressed() {
            
            var sVBucket = screenValue.innerText;

            if (sVBucket.includes("×")){
                sVBucket = sVBucket.replace("×", "*")
            };
            if (sVBucket.includes("÷")){
                sVBucket = sVBucket.replace("÷", "/")
            };
        
            console.log(sVBucket);
            try {
                var result =  eval(sVBucket);
                
                screenValue.innerText = result;
            }
            catch(err) {
                alert("Kindly check your input. \nError: " + err.message);
            }
        }
        


        var items = document.querySelectorAll(".numKey");
        // console.log(items)
        for (let item of items) {
            // console.log(item.querySelector(".button-text").innerText)
            item.addEventListener("click", numKeyPressed);
        }

        const deleteButton = document.querySelector(".del");
        deleteButton.addEventListener("click", deletePrevious);

        const equalButton = document.querySelector(".equal");
        equalButton.addEventListener("click", equalSignPressed);
        
    </script>
</body>
</html>